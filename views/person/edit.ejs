<%
    const rootPath = "/person/" + paramPersonId;
    const rootEditPath = rootPath + "/edit"
%>

<table class="edit-form-frame">

    <!-- NAME -->

    <%- include('../forms/tableRowSingle', { params: {
        attr: 'name',
        editPath: rootEditPath + '/name',
        originalValue: person.name,
    }}) %>

    <!-- ID -->

    <%- include('../forms/tableRowSingle', { params: {
        attr: 'customId',
        attrName: 'id',
        editPath: rootEditPath + '/id',
        originalValue: person.customId,
    }}) %>

    <!-- SHARE -->

    <%- include('../forms/tableRowSingle', { params: {
        attr: 'shareLevel',
        attrName: 'sharing level',
        editPath: rootPath + '/toggle/shareLevel',
        originalValue: person.sharing.level,
        toggle: true,
    }}) %>

    <% if (person.sharing.level == 1) { %>
        <%- include('../forms/tableRowSingle', { params: {
            attr: 'shareName',
            attrName: 'sharing name',
            editPath: rootEditPath + '/shareName',
            originalValue: person.sharing.name,
        }}) %>
    <% } %>

    <!-- PROFILE IMAGE -->

    <%- include('../forms/tableRowSingle', { params: {
        attr: 'profileImage',
        attrName: 'profile image',
        editPath: rootEditPath + '/profileImage',
        originalValue: person.profileImage,
    }}) %>

    <!-- PARENTS -->

    <%- include('../forms/tableRowMulti', {
        attr: 'parents',
        rootPath: rootPath,
        values: person.parents,
        dataType: 'people',
    }) %>

    <!-- SPOUSES -->

    <%- include('../forms/tableRowMulti', {
        attr: 'spouses',
        rootPath: rootPath,
        values: person.spouses,
        dataType: 'people',
    }) %>

    <!-- CHILDREN -->

    <%- include('../forms/tableRowMulti', {
        attr: 'children',
        rootPath: rootPath,
        values: person.children,
        dataType: 'people',
    }) %>

    <!-- LINKS -->

    <%- include('../forms/tableRowMulti', {
        attr: 'links',
        rootPath: rootPath,
        values: person.links,
    }) %>

    <!-- TAGS -->

    <%- include('../forms/tableRowMulti', {
        attr: 'tags',
        rootPath: rootPath,
        values: person.tags,
    }) %>

</table>

<script>
    initializeEditForm(false);
</script>
