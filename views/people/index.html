<%- include ../partials/header %>

<div id="content">
    <h1>People</h1>

    <% if (showNew) { %>
        <form action="/allPeople/new" method="POST">
            <p>
                <b>Name:</b>
                <input type="text" name="name">
            </p>
            <p>
                <button type="submit">submit</button>
                <a href="/allPeople">Cancel</a>
            </p>
        </form>
    <% } else { %>
        <p>
            <a href="/allPeople/new">+ Create Person</a>
        </p>
        <p>
            Filter: <input id="quickFilterPeople" type="text">
        </p>
    <% } %>

    <table border="1" id="listOfPeople">
        <tbody>
            <tr>
                <th> name </th>
            </tr>
            <% for (var i = 0; i < people.length; i++) { %>
                <%
                    var person = people[i];
                    var searchName = person.name.toLowerCase();
                %>
                <tr person_name="<%= searchName %>" class="person_row">
                    <td>
                        <%- include('../partials/linkToPerson', {person: person}) %>
                    </td>
                </tr>
            <% } %>
        </tbody>
    </table>
</div>

<script>
    filterPersonList();
</script>
