<%
    if (person.name == null) {
        person = people.filter((thisPerson) => {
            return thisPerson.id == person;
        })[0];
    }
%>

<% if (person != null && safety < 50) { %>
    <table>
        <tr>
            <% for (var p = 0; p < person.parents.length; p++) { %>
                <% var parent = person.parents[p]; %>
                <td valign="bottom" align="center">
                    <%- include('../partials/personTree', { person: parent, safety: safety + 1 }) %>
                </td>
            <% } %>
        </tr>
        <tr>
            <td colspan="<%= person.parents.length || 1 %>" class="treecell">
                <div>
                    <%- include('../partials/linkToPerson', {person: person}) %>
                    <% if(person.birthCountry != 'United States') { %>
                        <%= person.birthCountry %>
                    <% } %>
                </div>
            </td>
        </tr>
    </table>
<% } %>
